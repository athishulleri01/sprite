if(!PriceSpider || !PriceSpider["accountId"]){var PriceSpider=function(n){"use strict";var e=v(),r=l("ps-trace",!1),t=["widget","recipe","wtb4"],o=function(n){var e=n.filter((function(n){return t.indexOf(n)>=0}));return e.length?e:["widget"]};function i(){var n=u("ps-library");if(n)return o(n.split(",").map((function(n){return n.trim()})));var e=s("ps-library");return e?o(e.split(",").map((function(n){return n.trim()}))):["widget"]}function a(n,e,r){var t="widget"===n?"":"".concat(n,"/"),o="".concat(t).concat(e);return r?"".concat(o,"/debug/ps-").concat(n,".js"):"".concat(o,"/ps-").concat(n,".js")}function c(){for(var n=document.getElementsByTagName("script"),e=0;e<n.length;++e){var r=n[e];if(r.src.indexOf("ps-widget")>=0||r.src.indexOf("ps-loader")>=0)return r.src.substr(0,r.src.lastIndexOf("/")+1)}}function s(n){for(var e=document.getElementsByTagName("script"),r=0;r<e.length;++r){var t=e[r];if(t.src.indexOf("ps-widget")>=0||t.src.indexOf("ps-loader")>=0)return t.getAttribute("data-".concat(n))||t.getAttribute(n)}}function u(n){for(var e=document.head.getElementsByTagName("meta"),r=0;r<e.length;++r){var t=e[r];if(t.getAttribute("name")===n)return t.getAttribute("content")}}function d(n,r){return u(n)||e[n]||r}function l(n,e){void 0===e&&(e=!1);var r=d(n);if(r){var t=p(r);if(void 0!==t)return t}return e}function v(n,e){void 0===n&&(n=!0),void 0===e&&(e=!0);var r,t={};n&&window.location.search.length>1&&f((r=window.location.search.substring(1)).indexOf("&")>0?r.split("&"):[r],t);e&&window.location.hash&&f((r=window.location.hash.substring(1)).indexOf("&")>0?r.split("&"):[r],t);return t}function p(n){return"true"===(n=n.toLowerCase())||"yes"===n||"false"!==n&&"no"!==n&&void 0}function f(n,e){for(var r=0,t=n;r<t.length;r++){var o=t[r],i=o.indexOf("="),a=i>=0?o.substr(0,i):o,c=i>=0?o.substr(i+1):void 0;a in e||"function"==typeof a?e[a]instanceof Array?e[a].push(c):e[a]=[e[a],c]:e[a]=c}}function g(n,e){var r=document.createElement("script");return r.src=n,r.type="text/javascript",r.charset="UTF-8",function(n,e,r){void 0===e.readyState?(e.onload=function(){return r(null,null)},e.onerror=function(){return r(function(n){var e=new Error("Not found");return e.name="LibraryLoader.loadScript",e.url=n,e.status=404,e}(n),null)}):e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,r(null,null))};document.body?document.body.appendChild(e):document.head.appendChild(e);return b("GET",n),e}(n,r,e)}function b(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];r&&console.log.apply(console,n)}function m(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];r&&console.error.apply(console,n)}var y,h,w=Object.freeze({__proto__:null,params:e,traceEnabled:r,ensureValidLibrary:o,resolveLibraries:i,buildLibraryPath:a,getCodebaseUrl:c,getScriptParam:s,getMetaParam:u,getParam:d,getParamBoolean:l,getUrlParams:v,parseBoolean:p,parseUrlParams:f,loadScript:g,trace:b,error:m});function P(n,e){h=e,y=g(n,(function(n){n&&e(n,null)}))}function O(n,e){var r=h;y&&y.parentElement.removeChild(y),y=void 0,h=void 0,r&&r(null,e)}var S=Object.freeze({__proto__:null,get element(){return y},get handler(){return h},load:P,onload:O}),x=l("ps-debug",!1),B="https://cdn.pricespider.com/1/",E=c()||B+"lib/",L=parseInt(u("ps-key"))||parseInt(u("ps-account"))||parseInt(s("ps-account"));L?(b("ps-account=".concat(L)),function(e,r){P("".concat(B).concat(e,"/config.js"),(function(t,o){t||(n.account=o,n.account.id=e,n.account.version||(n.account.version=null),n.account.configs||(n.account.configs=[]),n.account.versions||(n.account.versions={widget:null,recipe:null,wtb4:null})),r(t,null)}))}(L,(function(e){var r,t,o,a;if(e)m("Unable to load library, failed to load account configuration ps-account="+L,e);else{var c=d("ps-version")||d("ps-widget-version");c?(n.version=c,n.versions={widget:n.version,recipe:d("ps-recipe-version")||(null===(o=n.account.versions)||void 0===o?void 0:o.recipe)||n.version,wtb4:d("ps-wtb4-version")||(null===(a=n.account.versions)||void 0===a?void 0:a.wtb4)||n.version}):(n.version=n.account.version,n.versions={widget:n.version,recipe:d("ps-recipe-version")||(null===(r=n.account.versions)||void 0===r?void 0:r.recipe)||n.version,wtb4:d("ps-wtb4-version")||(null===(t=n.account.versions)||void 0===t?void 0:t.wtb4)||n.version}),_(i())}}))):m("Unable to load library, missing or invalid ps-account meta tag");var _=function(e){n.version?e.forEach((function(e){var r=n.versions[e],t=a(e,r,x);g("".concat(E).concat(t),(function(n){n?m("Failed to load library ps-version=".concat(r),n):b("Loaded library ps-version=".concat(r))}))})):m("Unable to load library, missing or invalid library version")},U=[];return n.Jsonp=S,n.LibraryLoader=w,n.accountId=L,n.debug=x,n.deferredWidgets=U,n.insertWidget=function(n){"WidgetBinder"in PriceSpider?PriceSpider.WidgetBinder.insert(n):U.push(n)},n.onload=O,n.rebind=function(){"WidgetBinder"in PriceSpider&&PriceSpider.WidgetBinder.bind()},n}({});
}